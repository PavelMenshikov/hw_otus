package handlers

import (
	"fmt"
	"planner2/config"
	"planner2/texts"
	"strconv"
	"strings"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
type UserAnswers struct {
	LastChoice string
	Choices    map[string]float64
	IsNegative bool
}

var userAnswers = make(map[int64]*UserAnswers)

// –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã /start
func HandleStartCommand(bot *tgbotapi.BotAPI, message *tgbotapi.Message) {
	userName := message.From.FirstName
	msg := tgbotapi.NewMessage(message.Chat.ID, fmt.Sprintf(
		"–ü—Ä–∏–≤–µ—Ç, <b>%s</b>! –î–∞–≤–∞–π –Ω–∞—á–Ω–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 2025 –≥–æ–¥.\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –∏–∑ –º–µ–Ω—é –∏–ª–∏ –ø–æ–¥–≤–µ–¥–∏—Ç–µ –∏—Ç–æ–≥–∏.–ù–∞–∂–º–∏—Ç–µ /start –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è.",
		userName,
	))
	msg.ParseMode = "HTML"
	msg.ReplyMarkup = createKeyboard("positive")
	bot.Send(msg)
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func HandleCallbackQuery(bot *tgbotapi.BotAPI, callbackQuery *tgbotapi.CallbackQuery) {
	userID := callbackQuery.From.ID
	callbackData := callbackQuery.Data

	logMessage := fmt.Sprintf("Handling callback: userID=%d, callbackData=%s", userID, callbackData)
	fmt.Println(logMessage)

	switch callbackData {
	case "–°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã":
		config.DB.Exec("DELETE FROM user_answers WHERE user_id = ?", userID)
		delete(userAnswers, userID)
		response := "–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω—ã. –ù–∞—á–Ω–µ–º –∑–∞–Ω–æ–≤–æ!"
		msg := tgbotapi.NewMessage(callbackQuery.Message.Chat.ID, response)
		msg.ParseMode = "HTML"
		msg.ReplyMarkup = createKeyboard("positive")
		bot.Send(msg)

	case "–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏":
		handlePositiveSummary(bot, callbackQuery)

	case "üí° –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑":
		handleCombinedSummary(bot, callbackQuery)

	default:
		saveUserChoice(userID, callbackData)
		response := generateResponse(callbackData)
		msg := tgbotapi.NewMessage(callbackQuery.Message.Chat.ID, response)
		msg.ParseMode = "HTML"
		msg.ReplyMarkup = tgbotapi.ReplyKeyboardRemove{} // –£–±–∏—Ä–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
		bot.Send(msg)
		logUserState(userID) // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
	}
}

func generateResponse(callbackData string) string {
	if description, exists := texts.ButtonDescriptions[callbackData]; exists {
		return description
	}
	return "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é."
}

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
func logUserState(userID int64) {
	userData := getUserAnswers(userID)
	fmt.Printf("[DEBUG] UserID: %d | LastChoice: %s | IsNegative: %t | Choices: %+v\n",
		userID, userData.LastChoice, userData.IsNegative, userData.Choices)
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func HandleMessage(bot *tgbotapi.BotAPI, message *tgbotapi.Message) {
	userID := message.From.ID
	text := message.Text

	logUserState(userID) // –õ–æ–≥–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

	if amount, err := strconv.ParseFloat(text, 64); err == nil && amount >= 0 {
		userData := getUserAnswers(userID)
		lastChoice := userData.LastChoice
		userData.Choices[lastChoice] += amount
		config.DB.Exec("INSERT INTO user_answers (user_id, question, answer) VALUES (?, ?, ?)", userID, lastChoice, amount)

		var response string
		var keyboard tgbotapi.InlineKeyboardMarkup

		if userData.IsNegative {
			response = fmt.Sprintf(
				"–°—É–º–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è <b>%s</b>.\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –ø—É–Ω–∫—Ç –∏–∑ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –∞–Ω–∞–ª–∏–∑.",
				lastChoice,
			)
			keyboard = createKeyboard("negative")
		} else {
			response = fmt.Sprintf(
				"–°—É–º–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è <b>%s</b>.\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –ø—É–Ω–∫—Ç –∏–∑ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∏–ª–∏ –ø–æ–¥–≤–µ–¥–∏—Ç–µ –∏—Ç–æ–≥–∏.",
				lastChoice,
			)
			keyboard = createKeyboard("positive")
		}

		fmt.Printf("[DEBUG] Setting keyboard: userID=%d, IsNegative=%t\n", userID, userData.IsNegative)

		msg := tgbotapi.NewMessage(message.Chat.ID, response)
		msg.ParseMode = "HTML"
		msg.ReplyMarkup = keyboard
		bot.Send(msg)
		logUserState(userID) // –õ–æ–≥–∏—Ä—É–µ–º –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
	} else {
		response := "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é."
		msg := tgbotapi.NewMessage(message.Chat.ID, response)
		msg.ParseMode = "HTML"
		msg.ReplyMarkup = createKeyboard("positive")
		bot.Send(msg)
	}
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func saveUserChoice(userID int64, choice string) {
	userData := getUserAnswers(userID)
	userData.LastChoice = choice
	userData.IsNegative = isNegativeChoice(choice)
	fmt.Printf("[DEBUG] Saved choice: UserID=%d | LastChoice=%s | IsNegative=%t\n", userID, choice, userData.IsNegative)

	// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
	updatedState := getUserAnswers(userID)
	fmt.Printf("[DEBUG] Updated UserState: UserID=%d | LastChoice=%s | IsNegative=%t | Choices=%+v\n",
		userID, updatedState.LastChoice, updatedState.IsNegative, updatedState.Choices)
}

// –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –¥–ª—è –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
func handlePositiveSummary(bot *tgbotapi.BotAPI, callbackQuery *tgbotapi.CallbackQuery) {
	userID := callbackQuery.From.ID
	summary := generateFinalSummary(userID, false)
	msg := tgbotapi.NewMessage(callbackQuery.Message.Chat.ID, summary)
	msg.ParseMode = "HTML"
	msg.ReplyMarkup = createKeyboard("negative")
	bot.Send(msg)
}

// –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–≥–æ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
func handleCombinedSummary(bot *tgbotapi.BotAPI, callbackQuery *tgbotapi.CallbackQuery) {
	userID := callbackQuery.From.ID

	positiveSummary := generateFinalSummary(userID, false)
	negativeSummary := generateFinalSummary(userID, true)
	totalAnnual := calculateTotalAnnual(userID)
	totalMonthly := totalAnnual / 12

	combinedSummary := fmt.Sprintf(
		"%s\n\n%s\n\n%s",
		positiveSummary,
		negativeSummary,
		texts.FinalSummary(totalAnnual, totalMonthly),
	)

	msg := tgbotapi.NewMessage(callbackQuery.Message.Chat.ID, combinedSummary)
	msg.ParseMode = "HTML"
	msg.ReplyMarkup = tgbotapi.NewInlineKeyboardMarkup(
		[]tgbotapi.InlineKeyboardButton{
			tgbotapi.NewInlineKeyboardButtonData("‚ùå –°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã", "–°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"),
		},
	)
	bot.Send(msg)
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
func generateFinalSummary(userID int64, isNegative bool) string {
	userData := getUserAnswers(userID)
	var details []string
	var total float64

	for key, value := range userData.Choices {
		if isNegative == isNegativeChoice(key) {
			details = append(details, fmt.Sprintf("- %s: %.2f —Ä—É–±–ª–µ–π", key, value))
			total += value
		}
	}

	if isNegative {
		return fmt.Sprintf(
			"–¢—ã —Ä–µ—à–∏–ª –æ—Å—Ç–∞–≤–∏—Ç—å –≤ —É—Ö–æ–¥—è—â–µ–º –≥–æ–¥—É —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:\n\n%s\n<b>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</b> %.2f —Ä—É–±–ª–µ–π\n\n–¢–µ–ø–µ—Ä—å –¥–µ–π—Å—Ç–≤—É–π, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —ç—Ç–∏—Ö —Ç—Ä–∞—Ç –∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥—ã!",
			strings.Join(details, "\n"), total,
		)
	}

	avgMonthly := total / 12
	return fmt.Sprintf(
		"–¢—ã –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Å–≤–æ–∏–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –º–µ—á—Ç–∞–º!\n\n<b>–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:</b>\n%s\n<b>–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:</b> %.2f —Ä—É–±–ª–µ–π –≤ –≥–æ–¥\n<b>–ï–∂–µ–º–µ—Å—è—á–Ω–æ:</b> %.2f —Ä—É–±–ª–µ–π\n\n–¢–µ–ø–µ—Ä—å –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, —á—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º.",
		strings.Join(details, "\n"), total, avgMonthly,
	)
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
func isNegativeChoice(choice string) bool {
	negativeChoices := []string{
		"–ù–µ–ª—é–±–∏–º—É—é —Ä–∞–±–æ—Ç—É", "–¢—Ä–µ–≤–æ–≥–∞ –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö", "–î–æ–ª–≥–∏",
		"–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∞", "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–≠–∫–æ–Ω–æ–º–∏—é –Ω–∞ –≤—Å—ë–º",
		"–°–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞", "–¢–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã",
	}
	for _, neg := range negativeChoices {
		if choice == neg {
			return true
		}
	}
	return false
}

// –ü–æ–¥—Å—á–µ—Ç –≥–æ–¥–æ–≤—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
func calculateTotalAnnual(userID int64) float64 {
	userData := getUserAnswers(userID)
	var total float64
	for _, value := range userData.Choices {
		total += value
	}
	return total
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func getUserAnswers(userID int64) *UserAnswers {
	if userAnswers[userID] == nil {
		userAnswers[userID] = &UserAnswers{
			Choices: make(map[string]float64),
		}
	}
	return userAnswers[userID]
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
func createKeyboard(keyboardType string) tgbotapi.InlineKeyboardMarkup {
	var buttons [][]tgbotapi.InlineKeyboardButton

	if keyboardType == "positive" {
		buttons = [][]tgbotapi.InlineKeyboardButton{
			{
				tgbotapi.NewInlineKeyboardButtonData("üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É", "–§–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É"),
				tgbotapi.NewInlineKeyboardButtonData("üìà –ê–∫—Ü–∏–∏", "–ê–∫—Ü–∏–∏"),
				tgbotapi.NewInlineKeyboardButtonData("üìä –û–±–ª–∏–≥–∞—Ü–∏–∏", "–û–±–ª–∏–≥–∞—Ü–∏–∏"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üíª –ö—Ä–∏–ø—Ç–æ-–≤–∞–ª—é—Ç—É", "–ö—Ä–∏–ø—Ç–æ-–≤–∞–ª—é—Ç—É"),
				tgbotapi.NewInlineKeyboardButtonData("üèóÔ∏è –ë–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã", "–ë–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã"),
				tgbotapi.NewInlineKeyboardButtonData("üè† –ü–æ–∫—É–ø–∫—É –∫–≤–∞—Ä—Ç–∏—Ä—ã/–¥–æ–º–∞", "–ü–æ–∫—É–ø–∫—É –∫–≤–∞—Ä—Ç–∏—Ä—ã/–¥–æ–º–∞"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üî® –†–µ–º–æ–Ω—Ç", "–†–µ–º–æ–Ω—Ç"),
				tgbotapi.NewInlineKeyboardButtonData("üéì –û–±—É—á–µ–Ω–∏–µ", "–û–±—É—á–µ–Ω–∏–µ"),
				tgbotapi.NewInlineKeyboardButtonData("üë∂ –û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π", "–û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üöó –ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞", "–ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞"),
				tgbotapi.NewInlineKeyboardButtonData("üßπ –ü–æ–º–æ—â–Ω–∏–∫–æ–≤ –ø–æ –¥–æ–º—É", "–ü–æ–º–æ—â–Ω–∏–∫–æ–≤ –ø–æ –¥–æ–º—É"),
				tgbotapi.NewInlineKeyboardButtonData("üë©‚Äç‚öïÔ∏è –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é", "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üòÑ –£–ª—ã–±–∫–∞ (—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è)", "–ö—Ä–∞—Å–∏–≤—É—é —É–ª—ã–±–∫—É (—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è)"),
				tgbotapi.NewInlineKeyboardButtonData("üõÅ –ú–∞—Å—Å–∞–∂, –±–∞–Ω—è, —Å–ø–∞", "–ú–∞—Å—Å–∞–∂, –±–∞–Ω—è, —Å–ø–∞"),
				tgbotapi.NewInlineKeyboardButtonData("üèãÔ∏è –ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ —Å–ø–æ—Ä—Ç", "–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ —Å–ø–æ—Ä—Ç"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üèñÔ∏è –û—Ç–¥—ã—Ö –Ω–∞ –º–æ—Ä–µ", "–û—Ç–¥—ã—Ö –Ω–∞ –º–æ—Ä–µ"),
				tgbotapi.NewInlineKeyboardButtonData("‚úàÔ∏è –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è"),
				tgbotapi.NewInlineKeyboardButtonData("üé® –°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è", "–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("ü§ù –û–∫—Ä—É–∂–µ–Ω–∏–µ –º–µ—á—Ç—ã", "–û–∫—Ä—É–∂–µ–Ω–∏–µ –º–µ—á—Ç—ã"),
				tgbotapi.NewInlineKeyboardButtonData("üõçÔ∏è –®–æ–ø–∏–Ω–≥ —Å–æ —Å—Ç–∏–ª–∏—Å—Ç–æ–º", "–®–æ–ø–∏–Ω–≥ —Å–æ —Å—Ç–∏–ª–∏—Å—Ç–æ–º"),
				tgbotapi.NewInlineKeyboardButtonData("üéÅ –ü–æ–¥–∞—Ä–∫–∏ —Ä–æ–¥–Ω—ã–º", "–ü–æ–¥–∞—Ä–∫–∏ —Ä–æ–¥–Ω—ã–º"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üçé –ü–æ–ª–µ–∑–Ω—É—é –µ–¥—É", "–í–∫—É—Å–Ω—É—é –ø–æ–ª–µ–∑–Ω—É—é –µ–¥—É"),
				tgbotapi.NewInlineKeyboardButtonData("üöö –ü–µ—Ä–µ–µ–∑–¥", "–ü–µ—Ä–µ–µ–∑–¥ –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ"),
				tgbotapi.NewInlineKeyboardButtonData("üöÄ –ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏", "–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏"),
			},
		}
	} else if keyboardType == "negative" {
		buttons = [][]tgbotapi.InlineKeyboardButton{
			{
				tgbotapi.NewInlineKeyboardButtonData("üíº –ù–µ–ª—é–±–∏–º—É—é —Ä–∞–±–æ—Ç—É", "–ù–µ–ª—é–±–∏–º—É—é —Ä–∞–±–æ—Ç—É"),
				tgbotapi.NewInlineKeyboardButtonData("üòü –¢—Ä–µ–≤–æ–≥—É –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö", "–¢—Ä–µ–≤–æ–≥—É –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö"),
				tgbotapi.NewInlineKeyboardButtonData("üí∏ –î–æ–ª–≥–∏", "–î–æ–ª–≥–∏"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üè† –î–æ–º–∞—à–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏", "–î–æ–º–∞—à–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏"),
				tgbotapi.NewInlineKeyboardButtonData("üòî –°–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞", "–°–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞"),
				tgbotapi.NewInlineKeyboardButtonData("üìã –ú–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∏", "–ú–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∏"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üöá –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç"),
				tgbotapi.NewInlineKeyboardButtonData("üí≥ –≠–∫–æ–Ω–æ–º–∏—é –Ω–∞ –≤—Å—ë–º", "–≠–∫–æ–Ω–æ–º–∏—é –Ω–∞ –≤—Å—ë–º"),
				tgbotapi.NewInlineKeyboardButtonData("üìä –¢–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã", "–¢–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã"),
			},
			{
				tgbotapi.NewInlineKeyboardButtonData("üí° –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑", "üí° –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑"),
			},
		}
	}

	fmt.Printf("Creating keyboard: Type=%s, Buttons=%v\n", keyboardType, buttons)
	return tgbotapi.NewInlineKeyboardMarkup(buttons...)
}


package config

import (
	"log"

	"github.com/glebarez/sqlite"
	"gorm.io/gorm"
	"gorm.io/gorm/logger"
)

var (
	BotToken = "6841246469:AAGehk1wVcD70cihLOFIztuaAmjGMlMmklU"
	DB       *gorm.DB
)

func InitDB() {
	var err error
	DB, err = gorm.Open(sqlite.Open("./financial_planner.db"), &gorm.Config{
		Logger: logger.Default.LogMode(logger.Info),
	})
	if err != nil {
		log.Fatal(err)
	}

	// –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É user_answers
	err = DB.Migrator().DropTable(&UserAnswer{})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã user_answers:", err)
	}

	err = DB.AutoMigrate(&UserAnswer{}, &FinalCalculation{})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏:", err)
	}
}

type UserAnswer struct {
	ID       uint    `gorm:"primaryKey"`
	UserID   int64   `gorm:"not null"`
	Question string  `gorm:"not null"` // –í–æ–ø—Ä–æ—Å
	Answer   float64 `gorm:"not null"` // –û—Ç–≤–µ—Ç
}

type FinalCalculation struct {
	ID                     uint    `gorm:"primaryKey"`
	UserID                 int64   `gorm:"not null"`
	TotalAnnualExpenses    float64 `gorm:"not null"`
	AverageMonthlyExpenses float64 `gorm:"not null"`
}


package main

import (
	"log"
	"planner2/config"
	"planner2/handlers"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

func main() {
	config.InitDB()

	bot, err := tgbotapi.NewBotAPI(config.BotToken)
	if err != nil {
		log.Fatal(err)
	}

	bot.Debug = true
	updates := bot.GetUpdatesChan(tgbotapi.NewUpdate(0))

	for update := range updates {
		if update.Message != nil {
			if update.Message.IsCommand() {
				switch update.Message.Command() {
				case "start":
					handlers.HandleStartCommand(bot, update.Message)
				}
			} else {
				handlers.HandleMessage(bot, update.Message)
			}
		}
	}
}
package texts

import "fmt"

// ButtonDescriptions —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏
var ButtonDescriptions = map[string]string{
	// –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
	"–§–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É":             "üí∞ –ß—Ç–æ–±—ã —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –Ω–∞ –≤–æ–ª–Ω–∞—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∫—Ä–∏–∑–∏—Å–æ–≤ –∏ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –æ—Ç –ø–æ—Ç–µ—Ä–∏ —Ä–∞–±–æ—Ç—ã ‚Äì –Ω–∞–¥–æ –∏–º–µ—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –∏–º–µ—Ç—å –ø–æ–¥—É—à–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤. –ï—Å–ª–∏ —É —Ç–µ–±—è —Ç–∞–∫–∞—è –ø–æ–¥—É—à–∫–∞ —É–∂–µ –µ—Å—Ç—å ‚Äì —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–æ. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äì –Ω–∞–ø–∏—à–∏ —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã ¬´—Å–ø—Ä—è—Ç–∞—Ç—å –æ—Ç —Å–µ–±—è¬ª. –ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω–∞ —Ä–æ–≤–Ω—è—Ç—å—Å—è —Ç–≤–æ–∏–º —Å—É–º–º–∞—Ä–Ω—ã–º —Ä–∞—Å—Ö–æ–¥–∞–º –∑–∞ –º–µ—Å—è—Ü *6.",
	"–ê–∫—Ü–∏–∏":                          "üìà –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ —Ç—ã –≤—ã–±—Ä–∞–ª –∞–∫—Ü–∏–∏ –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥—ã. –ù–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –∞–∫—Ü–∏–∏?",
	"–û–±–ª–∏–≥–∞—Ü–∏–∏":                      "üìä –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥—ã. –ù–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏–∏?",
	"–ö—Ä–∏–ø—Ç–æ-–≤–∞–ª—é—Ç—É":                  "üíª –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ ‚Äì —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É. –ù–æ –æ–Ω –≤—ã—Å–æ–∫–æ—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑-–∑–∞ –≤–∑–ª–µ—Ç–æ–≤ –∏ –ø–∞–¥–µ–Ω–∏–π —Ü–µ–Ω –Ω–∞ –∫—Ä–∏–ø—Ç—É, –Ω–æ –∏ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–º –Ω–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω—ã. –ï—Å–ª–∏ —Ç—ã —Ä–µ—à–∏–ª—Å—è, –Ω–∞–ø–∏—à–∏, –Ω–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –∫—Ä–∏–ø—Ç—É.",
	"–ë–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã":                "üèóÔ∏è –†–∞–∑–≤–∏–≤–∞—Ç—å—Å—è ‚Äì –∑–Ω–∞—á–∏—Ç –º–µ—á—Ç–∞—Ç—å –∏ —Å—Ç—Ä–æ–∏—Ç—å —á—Ç–æ-—Ç–æ –±–æ–ª—å—à–µ–µ. –ö–∞–∫—É—é —Å—É–º–º—É —Ç—ã —Ö–æ—á–µ—à—å –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–≤–æ–∏—Ö –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤?",
	"–ü–æ–∫—É–ø–∫—É –∫–≤–∞—Ä—Ç–∏—Ä—ã/–¥–æ–º–∞":          "üè† –ù–æ–≤–æ–µ –∂–∏–ª—å–µ ‚Äì —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —à–∞–≥ –≤–ø–µ—Ä–µ–¥. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä–æ–π —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏–ª–∏ –¥–æ–º–∞.",
	"–†–µ–º–æ–Ω—Ç":                         "üî® –í–∞–∂–Ω–æ –∂–∏—Ç—å –≤ –∫–æ–º—Ñ–æ—Ä—Ç–µ. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–ª–∏ –Ω–∞—á–∞–ª–∞ —Ä–µ–º–æ–Ω—Ç–∞.",
	"–û–±—É—á–µ–Ω–∏–µ":                       "üéì –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ —Å–µ–±—è ‚Äì –ª—É—á—à–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —Å–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ.",
	"–û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π":                 "üë∂ –û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π ‚Äì —ç—Ç–æ —Å–≤—è—Ç–æ–µ. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –∏—Ö –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.",
	"–ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞":                   "üöó –ï–π-–µ–π-–µ–π!!! –ë—É–¥–µ—Ç –æ—Ç —á–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –Ω–∞ –¥–æ—Ä–æ–≥–µ! –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è?",
	"–ü–æ–º–æ—â–Ω–∏–∫–æ–≤ –ø–æ –¥–æ–º—É":             "üßπ –†–∞–∑–≥—Ä—É–∑–∏—Ç—å —Å–µ–±—è –æ—Ç –±—ã—Ç–∞ ‚Äì –æ—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –≤ –≥–æ–¥ —É—Å–ª—É–≥–∏ –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –ø–æ –¥–æ–º—É.",
	"–ù—è–Ω—é":                           "üë∂ –ù—è–Ω—è ‚Äì —ç—Ç–æ –ø–æ—á—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å üòä –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç, —á—Ç–æ–±—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —á–µ–ª–æ–≤–µ–∫–æ–º.",
	"–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é":       "üë©‚Äç‚öïÔ∏è –ó–¥–æ—Ä–æ–≤—å–µ ‚Äì —ç—Ç–æ –º–µ–≥–∞ –≤–∞–∂–Ω–æ! –ü–æ—Å—á–∏—Ç–∞–π, —Å–∫–æ–ª—å–∫–æ –±—É–¥—É—Ç —Å—Ç–æ–∏—Ç—å —É—Å–ª—É–≥–∏ –≤—Ä–∞—á–µ–π –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.",
	"–ö—Ä–∞—Å–∏–≤—É—é —É–ª—ã–±–∫—É (—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è)": "üòÑ –£–ª—ã–±–∫–∞ –º–µ—á—Ç—ã ‚Äì —ç—Ç–æ –≤–∞–∂–Ω–æ! –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—é.",
	"–ú–∞—Å—Å–∞–∂, –±–∞–Ω—é, —Å–ø–∞":              "üõÅ –û—Ç–¥—ã—Ö ‚Äì —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—à—å –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥—ã—Ö –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ.",
	"–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ —Å–ø–æ—Ä—Ç":             "üèãÔ∏è –î–≤–∏–∂–µ–Ω–∏–µ ‚Äì —ç—Ç–æ –∂–∏–∑–Ω—å! –ù–∞–ø–∏—à–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–æ–¥–æ–≤–æ–≥–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –Ω–∞ —Å–ø–æ—Ä—Ç–∑–∞–ª –∏–ª–∏ –±–∞—Å—Å–µ–π–Ω.",
	"–û—Ç–¥—ã—Ö –Ω–∞ –º–æ—Ä–µ":                  "üèñÔ∏è –ú–æ—Ä–µ ‚Äì —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ! –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –æ—Ç–¥—ã—Ö –Ω–∞ –º–æ—Ä–µ.",
	"–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è":                    "‚úàÔ∏è –ü–ª–∞–Ω–∏—Ä—É–µ—à—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å? –ù–∞–ø–∏—à–∏ –æ–±—â–∏–π –±—é–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–æ—Ç–æ–≤ –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞ –ø–æ–µ–∑–¥–∫–∏.",
	"–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è":                "üé® –°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è ‚Äì —ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏ —ç–Ω–µ—Ä–≥–∏—è –Ω–∞ –Ω–æ–≤—ã–µ –¥–µ–ª–∞. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ç–≤–æ–µ —Ö–æ–±–±–∏.",
	"–û–∫—Ä—É–∂–µ–Ω–∏–µ –º–µ—á—Ç—ã":                "ü§ù –û–∫—Ä—É–∂–µ–Ω–∏–µ ‚Äì —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å —Å–∞–º–∏—Ö. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –º–µ—á—Ç—ã.",
	"–®–æ–ø–∏–Ω–≥ —Å–æ —Å—Ç–∏–ª–∏—Å—Ç–æ–º":            "üõçÔ∏è –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–µ—Ä–µ–º–µ–Ω ‚Äì –∑–∞–ø–ª–∞–Ω–∏—Ä—É–π —à–æ–ø–∏–Ω–≥ —Å–æ —Å—Ç–∏–ª–∏—Å—Ç–æ–º. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å.",
	"–ü–æ–¥–∞—Ä–∫–∏ —Ä–æ–¥–Ω—ã–º":                 "üéÅ –î–∞—Ä–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –±–ª–∏–∑–∫–∏–º –ø—Ä–∏—è—Ç–Ω–æ. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞ —ç—Ç–æ.",
	"–í–∫—É—Å–Ω—É—é –ø–æ–ª–µ–∑–Ω—É—é –µ–¥—É":           "üçé –ó–¥–æ—Ä–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –≤–∞–∂–Ω–æ. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç—ã –≥–æ—Ç–æ–≤ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –ø–æ–ª–µ–∑–Ω—É—é –µ–¥—É.",
	"–ü–µ—Ä–µ–µ–∑–¥ –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ":          "üöö –ü–µ—Ä–µ–µ–∑–¥ ‚Äì —ç—Ç–æ –Ω–æ–≤—ã–π –≤–∏—Ç–æ–∫ –∂–∏–∑–Ω–∏. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —Ç–≤–æ–π –ø–µ—Ä–µ–µ–∑–¥.",
	// –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
	"–¢—Ä–µ–≤–æ–≥—É –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö":      "üòü –¢—Ä–µ–≤–æ–≥–∞ –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö ‚Äì —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –∫ –¥–µ–π—Å—Ç–≤–∏—é. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –≥–æ—Ç–æ–≤ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –Ω–µ—ë.",
	"–î–æ–ª–≥–∏":                   "üí∏ –î–æ–ª–≥–∏ ‚Äì –∏—Ö –Ω–∞–¥–æ –æ—Ç–¥–∞–≤–∞—Ç—å. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É —Å–≤–æ–µ–π –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –∑–∞ –≥–æ–¥.",
	"–ù–µ–ª—é–±–∏–º—É—é —Ä–∞–±–æ—Ç—É":        "üíº –ù–µ–ª—é–±–∏–º–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äì —ç—Ç–æ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É —Å–≤–æ–µ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.",
	"–î–æ–º–∞—à–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏":    "üè† –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–µ–±—è –æ—Ç —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π.",
	"–°–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞": "üòî –û—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, —á—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —ç—Ç–∏–º.",
	"–ú–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∏":       "üìã –î–µ–ª–µ–≥–∏—Ä—É–π —Ä—É—Ç–∏–Ω—É! –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –ø–æ–º–æ—â—å –¥—Ä—É–≥–∏—Ö.",
	"–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç":  "üöá –û—Ç–∫–∞–∂–∏—Å—å –æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ –ø–æ–ª—å–∑—É –∫–æ–º—Ñ–æ—Ä—Ç–∞. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —Ç–∞–∫—Å–∏ –∑–∞ –≥–æ–¥.",
	"–≠–∫–æ–Ω–æ–º–∏—é –Ω–∞ –≤—Å—ë–º":        "üí≥ –†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è ‚Äì —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ç—Ä–∞—Ç, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –≥–æ—Ç–æ–≤ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è.",
	"–¢–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã":         "üìä –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç—ã —Ç—Ä–∞—Ç–∏—à—å –Ω–∞ –∂–∏–∑–Ω—å –µ–∂–µ–º–µ—Å—è—á–Ω–æ. –ú—ã —É–º–Ω–æ–∂–∏–º —ç—Ç—É —Å—É–º–º—É –Ω–∞ 12.",
}

// FinalSummary –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
func FinalSummary(totalAnnual, avgMonthly float64) string {
	return fmt.Sprintf(`
–¢—ã –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Å–≤–æ–∏–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –º–µ—á—Ç–∞–º! –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–≤–æ–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ 2025 –≥–æ–¥ ‚Äì —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ü–∏—Ñ—Ä—ã, —ç—Ç–æ –∂–∏–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ç–≤–æ—é –∂–∏–∑–Ω—å. –ö–∞–∂–¥–∞—è —Ç–≤–æ—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ —Å–µ–±—è, —Ñ–æ–Ω–¥–æ–≤—ã–π —Ä—ã–Ω–æ–∫ –∏ –ø—Ä–æ—á–µ–µ ‚Äì —ç—Ç–æ —à–∞–≥ –∫ —Ç–≤–æ–µ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥–µ.

<b>–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:</b> %.2f —Ä—É–±–ª–µ–π –≤ –≥–æ–¥ (–ø—Ä–∏–º–µ—Ä–Ω–æ %.2f —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü)

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ ‚Äì —ç—Ç–æ –∫–ª—é—á –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é.

–ï—Å–ª–∏ —Ç—ã –≤—ã–±—Ä–∞–ª —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É, –≤–ª–æ–∂–∏—Ç—å –¥–µ–Ω—å–≥–∏ –≤ –∞–∫—Ü–∏–∏ –∏ –æ–±–ª–∏–≥–∞—Ü–∏–∏, –∏ –¥–∞–∂–µ —Ä–∏—Å–∫–Ω—É—Ç—å —Å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É–≤–ª–µ—á–µ–Ω–∏–µ ‚Äì —ç—Ç–æ —Ç–≤–æ–π –ø—É—Ç—å –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏! –¢—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –≤–∞–∂–Ω–æ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –Ω–∞ –≤–æ–ª–Ω–∞—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. 

–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã. –ï—Å–ª–∏ –æ–Ω–∏ –ø—Ä–µ–≤—ã—à–∞—é—Ç —Ç–≤–æ–∏ –¥–æ—Ö–æ–¥—ã, —ç—Ç–æ –Ω–µ –ø–æ–≤–æ–¥ –¥–ª—è –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∞ ‚Äì —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –∫ –¥–µ–π—Å—Ç–≤–∏—é! –ù–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –Ω–∞—É—á–∏—Ç—å—Å—è –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ. 
–û—Å–æ–∑–Ω–∞–π: —Ç–≤–æ–∏ —Ç–µ–∫—É—â–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–≥—É—Ç —Å–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–µ–±—è! –ß—Ç–æ, –µ—Å–ª–∏ —è —Å–∫–∞–∂—É —Ç–µ–±–µ, —á—Ç–æ —Ç—ã —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ –±–æ–ª—å—à–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å?

–ö–∞–∂–¥—ã–π —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Å–¥–µ–ª–∞–ª –≤ —Ö–æ–¥–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, ‚Äì —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ö–∞–∂–¥—ã–π —Ä—É–±–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Ç—Ä–∞—Ç–∏—à—å, –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ç–µ–±—è. –¢—ã –º–æ–∂–µ—à—å —Å–æ–∑–¥–∞—Ç—å –∂–∏–∑–Ω—å, –æ –∫–æ—Ç–æ—Ä–æ–π –º–µ—á—Ç–∞–µ—à—å: —Å –¥–æ—Å—Ç–∞—Ç–∫–æ–º, –∫–æ–º—Ñ–æ—Ä—Ç–æ–º –∏ —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –¥–µ–Ω—å–≥–∞–º–∏, –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω—è—è —Å–≤–æ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –¥–µ–Ω–µ–≥ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤.

–ù–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π —Å–µ–±—è! –ù–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –ø—Ä–µ–æ–±—Ä–∞–∑–∏—Ç—å —Ç–≤–æ—ë —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∏ –ø–æ–º–µ–Ω—è—Ç—å —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è, —á—Ç–æ–±—ã —Ç–≤–æ–∏ –¥–æ—Ö–æ–¥—ã —Ä–æ—Å–ª–∏, –∞ –∑–∞–±–æ—Ç—ã –æ –Ω–µ—Ö–≤–∞—Ç–∫–µ –¥–µ–Ω–µ–≥ –∏—Å—á–µ–∑–∞–ª–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, –∫–∞–∫–æ–≤–æ —ç—Ç–æ ‚Äì –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω—ã, –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—è—Å—å –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç—Ä—É–¥–Ω–æ—Å—Ç—è—Ö. –û—Å–æ–∑–Ω–∞–π, —á—Ç–æ —Ç–≤–æ—è —Ä–µ—à–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç —Ç–≤–æ—é –∂–∏–∑–Ω—å.

–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–µ—á—Ç—ã ‚Äì —ç—Ç–æ —Ç–≤–æ–π —à–∞–Ω—Å –≤–∑—è—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —Å—Ç–∞—Ç—å —Ö–æ–∑—è–∏–Ω–æ–º —Å–≤–æ–µ–π —Å—É–¥—å–±—ã. –ù–∞—á–Ω–∏ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —É–∂–µ —Å–µ–π—á–∞—Å! –¢—ã —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ —ç—Ç–æ. –°—Ç—Ä–æ–π —Å–≤–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ –Ω–∞ 2025 –≥–æ–¥. –ù–µ —É–ø—É—Å—Ç–∏ —Å–≤–æ—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å!
`, totalAnnual, avgMonthly)
}




package main

import (
	"fmt"
	"log"
	"planner2/config"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

func main() {
	// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
	config.InitDB()

	// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-–±–æ—Ç–∞
	bot, err := tgbotapi.NewBotAPI(config.BotToken)
	if err != nil {
		log.Panicf("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram API: %v", err)
	}

	bot.Debug = true
	log.Printf("–ë–æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ø–æ–¥ –∏–º–µ–Ω–µ–º %s", bot.Self.UserName)

	u := tgbotapi.NewUpdate(0)
	u.Timeout = 60
	u.AllowedUpdates = []string{"message", "callback_query"} // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É CallbackQuery
	updates := bot.GetUpdatesChan(u)

	// –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ—Ä—è–¥–∫—É
	questions := []string{
		// –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
		"<b>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞:</b> üí∞ –ü–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –§–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É: —á—Ç–æ–±—ã —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –Ω–∞ üåä –≤–æ–ª–Ω–∞—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∫—Ä–∏–∑–∏—Å–æ–≤ –∏ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –æ—Ç üõë –ø–æ—Ç–µ—Ä–∏ —Ä–∞–±–æ—Ç—ã ‚Äì –Ω–∞–¥–æ –∏–º–µ—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –∏–º–µ—Ç—å –ø–æ–¥—É—à–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤. –ï—Å–ª–∏ —É —Ç–µ–±—è —Ç–∞–∫–∞—è –ø–æ–¥—É—à–∫–∞ —É–∂–µ –µ—Å—Ç—å ‚Äì —ç—Ç–æ üëç –æ—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ –Ω–µ—Ç ‚Äì –Ω–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —Å–ø–æ–∫–æ–π–Ω–æ. –ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω–∞ —Ä–æ–≤–Ω—è—Ç—å—Å—è —Ç–≤–æ–∏–º —Å—É–º–º–∞—Ä–Ω—ã–º —Ä–∞—Å—Ö–æ–¥–∞–º –∑–∞ –º–µ—Å—è—Ü ‚úñÔ∏è 6.",
		"<b>–ê–∫—Ü–∏–∏:</b> üìà –ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥—ã ‚Äì —ç—Ç–æ –∞–∫—Ü–∏–∏. –ï—Å–ª–∏ —Ç—ã –≥–æ—Ç–æ–≤ –∏—Ö –ø–æ–∫—É–ø–∞—Ç—å ‚Äì –Ω–∞–ø–∏—à–∏ –Ω–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –∞–∫—Ü–∏–∏.",
		"<b>–û–±–ª–∏–≥–∞—Ü–∏–∏:</b> üìä –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Ç–æ–∂–µ –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥—ã. –ï—Å–ª–∏ —Ç—ã –≥–æ—Ç–æ–≤ –∏—Ö –ø–æ–∫—É–ø–∞—Ç—å ‚Äì –Ω–∞–ø–∏—à–∏ –Ω–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏–∏.",
		"<b>–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞:</b> üíª –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ ‚Äì —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É. –ù–æ –æ–Ω –≤—ã—Å–æ–∫–æ—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑-–∑–∞ –≤–∑–ª–µ—Ç–æ–≤ –∏ –ø–∞–¥–µ–Ω–∏—è —Ü–µ–Ω –Ω–∞ –∫—Ä–∏–ø—Ç—É, –Ω–æ –∏ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–º –Ω–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω—ã. –ù–æ –µ—Å–ª–∏ —Ç—ã —Ä–µ—à–∏–ª—Å—è, —Ç–æ –Ω–∞ –∫–∞–∫—É—é —Å—É–º–º—É –≤ –≥–æ–¥ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã –∫—É–ø–∏—Ç—å –∫—Ä–∏–ø—Ç—É.",
		"<b>–ë–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã:</b> üèóÔ∏è –î–∞–≤–∞–π –ø–æ–º–µ—á—Ç–∞–µ–º –æ –ë–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –ï—Å–ª–∏ —Ç—ã –≥–æ—Ç–æ–≤ –∏–¥—Ç–∏ –≤ –±–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã, —Ç–æ —Ç—ã –¥–æ–ª–∂–µ–Ω —á–µ—Ç–∫–æ –æ—Ç–¥–∞–≤–∞—Ç—å —Å–µ–±–µ –æ—Ç—á–µ—Ç, —á—Ç–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç —Ç–≤–æ–∏—Ö —É—Å–∏–ª–∏–π, –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π. –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ç–≤–æ–π —á–∞—Å —Ä–∞–±–æ—Ç—ã? –û—Ü–∏—Ñ—Ä—É–π —Å–≤–æ—ë –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –ø—Ä–æ–µ–∫—Ç. –î–æ–±–∞–≤—å –¥–µ–Ω—å–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤–ª–æ–∂–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏. –ö–∞–∫–∞—è —Å—É–º–º–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –≥–æ–¥?",
		"<b>–ü–æ–∫—É–ø–∫–∞ –∂–∏–ª—å—è:</b> üè† –ü–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ–∫—É–ø–∫—É –∫–≤–∞—Ä—Ç–∏—Ä—ã/–¥–æ–º–∞? –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ —Å—Ç–∞–≤—å ¬´0¬ª. –ê –µ—Å–ª–∏ –¥–∞, —Ç–æ –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! –ï—Å–ª–∏ —Ç—ã —á—Ç–æ-—Ç–æ –ø—Ä–æ–¥–∞–ª –∏–ª–∏ –Ω–∞–∫–æ–ø–∏–ª –∏–ª–∏ —É —Ç–µ–±—è –ø—Ä–æ—Å—Ç–æ –µ—Å—Ç—å –¥–µ–Ω—å–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–π–¥—É—Ç –Ω–∞ –ø–æ–∫—É–ø–∫—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ ‚Äì —Ç—ã –º–æ–ª–æ–¥–µ—Ü! –ù–∞–ø–∏—à–∏ –Ω–∏–∂–µ, —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, —á—Ç–æ–±—ã –∫—É–ø–∏—Ç—å –∂–∏–ª—å—ë –º–µ—á—Ç—ã? (–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≤—Å—è —Å—É–º–º–∞ –Ω–∞ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –∂–∏–ª—å—è, —Ç–æ –Ω–∏–∂–µ –ø–æ—Å—Ç–∞–≤—å 0).",
		"<b>–†–µ–º–æ–Ω—Ç:</b> üî® –ê –µ—Å–ª–∏ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å —Ä–µ–º–æ–Ω—Ç?! –†–µ–º–æ–Ω—Ç ‚Äì —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –Ω–æ–≤–∞—è —ç–Ω–µ—Ä–≥–∏—è, –Ω–æ –∏ –∑–∞—Ç—Ä–∞—Ç—ã‚Ä¶ –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, –µ—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è. –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä–æ–π —Ç–µ–±–µ –ø–æ–∫–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å/–∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–º–æ–Ω—Ç.",
		"<b>–û–±—É—á–µ–Ω–∏–µ:</b> üéì –ü–ª–∞–Ω–∏—Ä—É–µ—à—å –Ω–µ–º–Ω–æ–≥–æ –ø–æ—É—á–∏—Ç—å—Å—è? –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Å–µ–±—è ‚Äì —ç—Ç–æ –ª—É—á—à–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –∏ –≤—Å–µ–≥–¥–∞ —Ä–æ—Å—Ç. –°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –∫—Ä–∞—Ç–Ω–æ –≤—ã—Ä–∞—Å—Ç–∏? –ù–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —Å–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ –≤ –≥–æ–¥.",
		"<b>–û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π:</b> üë∂ –û–±—É—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π ‚Äì —ç—Ç–æ —Å–≤—è—Ç–æ–µ. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ –Ω–∞–¥–æ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –∏—Ö –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.",
		"<b>–ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞:</b> üöó –ú–æ–∂–µ—Ç —Ç—ã –∑–∞–¥—É–º–∞–ª –∫—É–ø–∏—Ç—å –Ω–æ–≤—É—é –º–∞—à–∏–Ω—É? –ï–π-–µ–π-–µ–π!!! –ë—É–¥–µ—Ç –æ—Ç —á–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –Ω–∞ –¥–æ—Ä–æ–≥–µ! –ï—Å–ª–∏ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø—Ä–æ–¥–∞—Ç—å —Å—Ç–∞—Ä—É—é –º–∞—à–∏–Ω—É –∏–ª–∏ –ø–æ–¥–Ω–∞–∫–æ–ø–∏–ª —É–∂–µ –Ω–∞ –Ω–æ–≤—É—é, —ç—Ç–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç —Ç–≤–æ–∏ –≤–ª–æ–∂–µ–Ω–∏—è! –ù–∞–ø–∏—à–∏ –Ω–∏–∂–µ, —Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, —á—Ç–æ–±—ã –∫—É–ø–∏—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ? (–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≤—Å—è —Å—É–º–º–∞ –Ω–∞ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã, —Ç–æ –Ω–∏–∂–µ –ø–æ—Å—Ç–∞–≤—å 0).",
		"<b>–ü–æ–º–æ—â–Ω–∏–∫–∏ –ø–æ –¥–æ–º—É:</b> üßπ –ú–µ—á—Ç–∞–µ—à—å –æ –ø–æ–º–æ—â–Ω–∏–∫–∞—Ö –ø–æ –¥–æ–º—É? –†–∞–∑–≥—Ä—É–∑–∏—Ç—å —Å–µ–±—è –æ—Ç –±—ã—Ç–∞ ‚Äì –æ—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –≤ –≥–æ–¥ —É—Å–ª—É–≥–∏ –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –ø–æ –¥–æ–º—É? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–ù—è–Ω—è:</b> üë∂ –ù—è–Ω—è ‚Äì —ç—Ç–æ –ø–æ—á—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –¥–µ—Ç–∏. üòä –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç, —á—Ç–æ–±—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —á–µ–ª–æ–≤–µ–∫–æ–º? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø–æ –∑–¥–æ—Ä–æ–≤—å—é:</b> üë©‚Äç‚öïÔ∏è –ù–µ —Å—Ç–æ–∏—Ç –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é. –ó–¥–æ—Ä–æ–≤—å–µ ‚Äì —ç—Ç–æ –º–µ–≥–∞ –≤–∞–∂–Ω–æ –≤ –ª—é–±–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ! –ï—Å–ª–∏ —Å–ª—É—á–∞—é—Ç—Å—è –ø—Ä–æ–±–ª–µ–º—ã —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º, —Ç–æ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ñ–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Å–µ–¥–∞—é—Ç, —Ç–∞–∫ –∫–∞–∫ –º—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã –æ—Ç–≤–ª–µ–∫–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞, —á–µ–º –ª–µ—á–µ–Ω–∏–µ! –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –±—É–¥—É—Ç —Å—Ç–æ–∏—Ç—å —É—Å–ª—É–≥–∏ –≤—Ä–∞—á–µ–π, –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∞, –∏–≥–ª–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –Ω—É–∂–Ω—ã—Ö –≤–∞–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –≤ –≥–æ–¥? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–£–ª—ã–±–∫–∞ (—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è):</b> üòÑ –ö—Ä–∞—Å–∏–≤–∞—è —É–ª—ã–±–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è? –ö—Ä–∞—Å–∏–≤–∞—è —É–ª—ã–±–∫–∞ ‚Äì —ç—Ç–æ —Ç–æ–∂–µ –≤–∞–∂–Ω–æ! –ö–∞–∫ –Ω–∏ —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–∫—É—Å–∞ –∑–∞–≤–∏—Å–∏—Ç –¥–∞–∂–µ –∫—Ä–∞—Å–∏–≤—ã–π –æ–≤–∞–ª –ª–∏—Ü–∞. –°–∫–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —É–ª—ã–±–∫–∞ –º–µ—á—Ç—ã?",
		"<b>–°–ü–ê:</b> üõÅ –ú–∞—Å—Å–∞–∂, –±–∞–Ω—é, —Å–ø–∞. –û—Ç–¥—ã—Ö–æ–º –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–∞—Ç—å –Ω–∏–∫–∞–∫ –Ω–µ–ª—å–∑—è, –∏–Ω–∞—á–µ –¥–µ–ø—Ä–µ—Å—Å–∏–∏, –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –∏ –µ—â–µ –º–Ω–æ–≥–æ —É–º–Ω—ã—Ö –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ üòä –†–∞–∑–≤–µ —Ç–µ–±–µ —ç—Ç–æ –Ω–∞–¥–æ? –°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–µ–Ω–µ–≥ –≤ –≥–æ–¥, —á—Ç–æ–±—ã —É—Å–ø–µ–≤–∞—Ç—å –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –∏ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ —Å–ø–æ—Ä—Ç:</b> üèãÔ∏è –î–≤–∏–∂–µ–Ω–∏–µ ‚Äì —ç—Ç–æ –∂–∏–∑–Ω—å! üí™ –¢—ã –∫–∞–∫? –ì–æ—Ç–æ–≤ —Ç—Ä–∞—Ç–∏—Ç—å—Å—è –Ω–∞ —Å–ø–æ—Ä—Ç–∑–∞–ª –∏/–∏–ª–∏ –±–∞—Å—Å–µ–π–Ω? –ù–∞–ø–∏—à–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–æ–¥–æ–≤–æ–≥–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞.",
		"<b>–û—Ç–¥—ã—Ö –Ω–∞ –º–æ—Ä–µ:</b> üèñÔ∏è –ú–µ—á—Ç–∞–µ—à—å –æ–± –æ—Ç–¥—ã—Ö–µ –Ω–∞ –º–æ—Ä–µ? –ú–æ—Ä–µ ‚Äì —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ! –°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –≤—Å—é —Å–µ–º—å—é?",
		"<b>–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è:</b> ‚úàÔ∏è –ü–ª–∞–Ω–∏—Ä—É–µ—à—å –µ—â–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è? –ï—Å–ª–∏ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∫—É–¥–∞-—Ç–æ –µ—â–µ, –∫—Ä–æ–º–µ –º–æ—Ä—è, —Ç–æ –Ω–∞–ø–∏—à–∏ –æ–±—â–∏–π –±—é–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—à—å –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞ –ø–æ–µ–∑–¥–∫–∏.",
		"<b>–•–æ–±–±–∏:</b> üé® –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–ª–∞–Ω–∏—Ä—É–π –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è! –°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è ‚Äì —ç—Ç–æ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ, –∞ –∑–Ω–∞—á–∏—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–≥—Ä—É–∑–∫–∞ –∏ —ç–Ω–µ—Ä–≥–∏—è –Ω–∞ –Ω–æ–≤—ã–µ –∏ —Ç–µ–∫—É—â–∏–µ –¥–µ–ª–∞ –∏ –ø—Ä–æ–µ–∫—Ç—ã. –ò–¥–µ–∞–ª—å–Ω–æ —Ä–∞–∑–≥—Ä—É–∂–∞—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏, –∏–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑ –≤ –º–µ—Å—è—Ü. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ç–≤–æ—ë —Ö–æ–±–±–∏? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–û–∫—Ä—É–∂–µ–Ω–∏–µ:</b> ü§ù –ù–∞—à–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ ‚Äì —ç—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å —Å–∞–º–∏—Ö –∏ –Ω–∞—à–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ß—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äì –Ω–∞–¥–æ –Ω–∞–π—Ç–∏ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã—Å–ª—è—Ç –∏–Ω–∞—á–µ. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –Ω–∞ –≤—ã–µ–∑–¥–∞—Ö –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–µ–º–∏–Ω–∞—Ä—ã, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –ø–æ —Ç–≤–æ–µ–π —Ç–µ–º–µ, —Ä–µ—Ç—Ä–∏—Ç—ã –∏ —Ç.–¥. –ö–µ–º —Ö–æ—á–µ—à—å –æ–∫—Ä—É–∂–∏—Ç—å —Å–µ–±—è —Ç—ã, —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å? –°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã ¬´–ø—Ä–æ–±—Ä–∞—Ç—å—Å—è¬ª –≤ —ç—Ç–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–®–æ–ø–∏–Ω–≥:</b> üõçÔ∏è –ï—Å–ª–∏ –º–µ—á—Ç–∞–µ—à—å –æ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–∞—Ö ‚Äì –∑–∞–ø–ª–∞–Ω–∏—Ä—É–π —Å–µ–±–µ —à–æ–ø–∏–Ω–≥ —Å–æ —Å—Ç–∏–ª–∏—Å—Ç–æ–º üòâ –ê –Ω–∏–∂–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–µ–±–µ —Å—Ç–æ–∏—Ç—å.",
		"<b>–ü–æ–¥–∞—Ä–∫–∏ —Ä–æ–¥–Ω—ã–º:</b> üéÅ –î–∞—Ä–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ —Ä–æ–¥–Ω—ã–º, –±–ª–∏–∑–∫–∏–º –∏ –¥—Ä—É–∑—å—è–º –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—è—Ç–Ω–æ. –ù–æ –∏–Ω–æ–≥–¥–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ —Ä–æ–¥–Ω—ã—Ö –∏ –¥—Ä—É–∑–µ–π –±–æ–ª—å—à–µ, —á–µ–º —Å–≤–æ–±–æ–¥–Ω—ã—Ö –¥–µ–Ω–µ–≥ üòä –ü–æ–¥—É–º–∞–π, —Å–∫–æ–ª—å–∫–æ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã —Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏, —á—Ç–æ–±—ã —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —Ö–æ—Ä–æ—à–æ? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–ü–æ–ª–µ–∑–Ω–∞—è –µ–¥–∞:</b> üçé –í–∫—É—Å–Ω–∞—è –ø–æ–ª–µ–∑–Ω–∞—è –µ–¥–∞ ‚Äì —ç—Ç–æ —Ç–∞–∫–∂–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –∏ –∑–∞–±–æ—Ç–∞ –æ –∑–¥–æ—Ä–æ–≤—å–µ. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –æ–Ω–æ –∏ –µ—Å—Ç—å –ø–ª—é—Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ. –ù–æ –æ–±—ã—á–Ω–æ —Ç–∞–∫–∞—è –µ–¥–∞ –¥–æ—Ä–æ–∂–µ, —á–µ–º –º–∞–∫–∞—Ä–æ–Ω—ã‚Ä¶ –°–∫–æ–ª—å–∫–æ –º–µ—á—Ç–∞–µ—à—å —Ç—Ä–∞—Ç–∏—Ç—å, —á—Ç–æ–±—ã –ø–∏—Ç–∞—Ç—å—Å—è –ø–æ–ª–µ–∑–Ω–æ, –≤–∫—É—Å–Ω–æ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ? (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–ü–µ—Ä–µ–µ–∑–¥:</b> üöö –í–¥—Ä—É–≥ —Ç—ã —Å–æ–±—Ä–∞–ª—Å—è –ø–µ—Ä–µ–µ–∑–∂–∞—Ç—å?! –ü–µ—Ä–µ–µ–∑–¥ –∑–∞—Ç—Ä–∞—Ç–µ–Ω, —á—Ç–æ —Ç—É—Ç –≥–æ–≤–æ—Ä–∏—Ç—å‚Ä¶ –ù–æ —ç—Ç–æ –Ω–æ–≤—ã–π –≤–∏—Ç–æ–∫ –∂–∏–∑–Ω–∏ –∏ —ç—Ç–æ –∑–¥–æ—Ä–æ–≤–æ! –°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —Ç–≤–æ–π –ø–µ—Ä–µ–µ–∑–¥?",
		//–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ

		"<b>–¢—Ä–µ–≤–æ–≥–∞ –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö:</b> üòü –•–æ—á–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º —Ç—Ä–µ–≤–æ–≥—É –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö? –ï—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, —Ç–æ —Å–∞–º–∞ —Å–æ–±–æ–π –Ω–µ —É–π–¥–µ—Ç ‚òπ –° –Ω–µ–π –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å. –•–æ—Ä–æ—à–æ –±—ã –Ω–∞–π—Ç–∏ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ç—Ä–µ–≤–æ–≥–æ–π —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞. –í —ç—Ç–æ–º –ø–æ–º–æ–≥–∞—é—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏, –∫—É—Ä—Å—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏. –ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —Å —ç—Ç–∏–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —Ç–æ –Ω–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –≥–æ—Ç–æ–≤ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤ –≥–æ–¥. (–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–î–æ–ª–≥–∏:</b> üí∏ –î–æ–ª–≥–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏ —Ö–æ—Ä–æ—à–∏–º–∏. –ù–æ –≤ —Ü–µ–ª–æ–º ‚Äì –¥–æ–ª–≥–∏ –∏ –µ—Å—Ç—å –¥–æ–ª–≥–∏ ‚Äì –∏—Ö –Ω–∞–¥–æ –æ—Ç–¥–∞–≤–∞—Ç—å. –ö–∞–∫–æ–≤–∞ —Ç–≤–æ—è –¥–æ–ª–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π —Ö–æ—á–µ—à—å –∏–∑–±–∞–≤–∏—Ç—å—Å—è –≤ —ç—Ç–æ–º –≥–æ–¥—É? (–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–î–æ–º–∞—à–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</b> üè† –•–æ—á–µ—à—å –∑–∞–±—ã—Ç—å –ø—Ä–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–æ–º–∞—à–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏? –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç —á–µ–≥–æ-—Ç–æ —á–∞—Å—Ç–æ –≤–ª–µ—á–µ—Ç –∑–∞ —Å–æ–±–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã. –ï—Å–ª–∏ —Ç—ã —Ä–µ—à–∏–ª –±–æ–ª—å—à–µ –Ω–µ –º—ã—Ç—å –ø–æ—Å—É–¥—É —Ä—É–∫–∞–º–∏, —Ç–æ –Ω—É–∂–Ω–æ –∫—É–ø–∏—Ç—å –ø–æ—Å—É–¥–æ–º–æ–π–∫—É ‚Äì —ç—Ç–æ –∑–∞—Ç—Ä–∞—Ç—ã. –ò–ª–∏ –Ω–µ –º—ã—Ç—å –æ–∫–Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ ‚Äì —ç—Ç–æ —Ç–æ–∂–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –∫–ª–∏–Ω–∏–Ω–≥. –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —Ç—ã –≥–æ—Ç–æ–≤ –∑–∞–ø–ª–∞—Ç–∏—Ç—å, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–µ–±–µ –≤—Ä–µ–º—è. (–ï—Å–ª–∏ —Ç—ã –ø–∏—Å–∞–ª —Å—É–º–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ø–æ–º–æ—â–Ω–∏–∫–∏ –ø–æ –¥–æ–º—É¬ª, —Ç–æ —Ç—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å —ç—Ç—É —Å—É–º–º—É –Ω–µ –Ω—É–∂–Ω–æ).",
		"<b>–°–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞:</b> üòî –ú–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º —Å–∞–º–æ–æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞? –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –æ—â—É—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞ –Ω–µ –¥–∞—ë—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ —Ç—ã —Ö–æ—á–µ—à—å –∏ –∂–∏—Ç—å —Ç—É –∂–∏–∑–Ω—å, –æ –∫–æ—Ç–æ—Ä–æ–π –º–µ—á—Ç–∞–µ—à—å. –≠—Ç–æ –∫–∞–∫ –æ–≥—Ä–æ–º–Ω—ã–π –∫–∞–º–µ–Ω—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –Ω–æ–≥–µ –∏ —Ç—è–Ω–µ—Ç –Ω–∞ –¥–Ω–æ —Ä–µ–∫–∏. –ù–æ —ç—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å. –í —ç—Ç–æ–º —Ç–æ–∂–µ –ø–æ–º–æ–≥—É—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏, –∫—É—Ä—Å—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏. –ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —Å —ç—Ç–∏–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —Ç–æ –Ω–∞–ø–∏—à–∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –≥–æ—Ç–æ–≤ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤ –≥–æ–¥.",
		"<b>–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∞:</b> üìã –•–æ—á–µ—à—å —Å–Ω–∏–∑–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫—É? –ß—Ç–æ–±—ã —Ä–∞–∑–≤—è–∑–∞—Ç—å —Å–µ–±–µ —Ä—É–∫–∏ –∏ –Ω–∞—á–∞—Ç—å –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å —á—Ç–æ-—Ç–æ, –Ω–∞–¥–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å—Å—è –æ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ–¥–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –ê —ç—Ç–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É. –°–∫–æ–ª—å–∫–æ —Ç—ã –≥–æ—Ç–æ–≤ –∑–∞–ø–ª–∞—Ç–∏—Ç—å, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º—ã—Å–ª–∏ —Å–º–æ–≥–ª–∏ –ø—Ä–∏–π—Ç–∏ –∫ —Ç–µ–±–µ –≤ –≥–æ–ª–æ–≤—É? (–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç:</b> üöá –ï—Å–ª–∏ —Ç—ã –≥–æ—Ç–æ–≤ —É–∂–µ –∫ –¥—Ä—É–≥–æ–º—É —É—Ä–æ–≤–Ω—é –∂–∏–∑–Ω–∏, —Ç–æ –º–æ–∂–Ω–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ –ø–µ—Ä–µ—Å–µ—Å—Ç—å –Ω–∞ —Ç–∞–∫—Å–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä. –ù–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∞–π —ç—Ç–æ–≥–æ, –µ—Å–ª–∏ —Ç–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã —Ä–∞–≤–Ω—ã –∏–ª–∏ –¥–∞–∂–µ –±–æ–ª—å—à–µ —Ç–≤–æ–∏—Ö –¥–æ—Ö–æ–¥–æ–≤. –ù–ò–ö–û–ì–î–ê! –≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∫—Ä–∏–∑–∏—Å—É. –ê –µ—Å–ª–∏ —É–∂–µ –≥–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–º—É —É—Ä–æ–≤–Ω—é, —Ç–æ —Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —Ç–≤–æ—ë —Ç–∞–∫—Å–∏? (–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞ –≥–æ–¥, —Ç–æ –µ—Å—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é —Å—É–º–º—É –Ω–∞–¥–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 12).",
		"<b>–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –≤—Å—ë–º:</b> üí≥ –≠–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –≤—Å—ë–º –Ω–µ –Ω—É–∂–Ω–æ, –Ω–æ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è ‚Äì —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –∏ ¬´–ø–æ-–≤–∑—Ä–æ—Å–ª–æ–º—É¬ª. –ü–æ–¥—É–º–∞–π, –∫–∞–∫–∏–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Ç—Ä–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ, –∫–∞–∫ —Ç–µ–±–µ –∫–∞–∂–µ—Ç—Å—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–µ–±—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∂–∏–∑–Ω–∏, –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏ –≤–æ–æ–±—â–µ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç—å —ç—Ç–æ–≥–æ?",
		"<b>–¢–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:</b> üìä –ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ‚Ä¶ –ù–∞–ø–∏—à–∏, —Å–∫–æ–ª—å–∫–æ —É —Ç–µ–±—è —É—Ö–æ–¥–∏—Ç –¥–µ–Ω–µ–≥ –≤ –º–µ—Å—è—Ü –Ω–∞ –∂–∏–∑–Ω—å ‚Äì –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ —Ç—Ä–∞—Ç—ã –∏ –ø–∏—Ç–∞–Ω–∏–µ.",
	}

	// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
	for update := range updates {
		log.Printf("Full Update: %+v", update)
		handleMessage(bot, update, questions)
	}

}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func handleMessage(bot *tgbotapi.BotAPI, update tgbotapi.Update, questions []string) {
	if update.Message != nil && update.Message.IsCommand() && update.Message.Command() == "start" {
		handleStartCommand(bot, update)
		return
	}

	if update.CallbackQuery != nil {
		handleCallbackQuery(bot, update, questions)
		return
	}

	if update.Message != nil {
		handleTextResponse(bot, update, questions)
	}
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
func handleStartCommand(bot *tgbotapi.BotAPI, update tgbotapi.Update) {
	chatID := update.Message.Chat.ID
	userName := update.Message.From.FirstName

	// –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	config.DB.Delete(&config.UserAnswer{}, "user_id = ?", update.Message.From.ID)

	// –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–µ—Ä–≤–æ–π –∫–Ω–æ–ø–∫–æ–π
	msg := tgbotapi.NewMessage(chatID, fmt.Sprintf(
		"–ü—Ä–∏–≤–µ—Ç, <b>%s</b>! üëã\n\n–î–∞–≤–∞–π –Ω–∞—á–Ω–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 2025 –≥–æ–¥–∞! üìÖ\n\n–Ø –±—É–¥—É –∑–∞–¥–∞–≤–∞—Ç—å –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤–æ–ø—Ä–æ—Å—ã, –∞ —Ç—ã –ø–∏—à–∏ –Ω—É–∂–Ω—ã–µ —Ç–µ–±–µ —Å—É–º–º—ã –∏–ª–∏ ¬´0¬ª, –µ—Å–ª–∏ —Ç–µ–±–µ —ç—Ç–∞ —Å—Ç–∞—Ç—å—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç. üí¨\n\n–î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å? –ù–∞–∂–º–∏ ¬´–î–∞¬ª, –µ—Å–ª–∏ —Å–æ–≥–ª–∞—Å–µ–Ω, –∏ –º—ã –ø—Ä–∏—Å—Ç—É–ø–∏–º! üòä",
		userName,
	))
	msg.ParseMode = "HTML"
	msg.ReplyMarkup = tgbotapi.NewInlineKeyboardMarkup(
		tgbotapi.NewInlineKeyboardRow(
			tgbotapi.NewInlineKeyboardButtonData("–î–∞", "start_step1"),
		),
	)
	bot.Send(msg)
}

func handleCallbackQuery(bot *tgbotapi.BotAPI, update tgbotapi.Update, questions []string) {
	chatID := update.CallbackQuery.Message.Chat.ID
	userID := update.CallbackQuery.From.ID
	callbackData := update.CallbackQuery.Data

	log.Printf("CallbackQuery received: %s", callbackData)

	switch callbackData {
	case "start_step1":
		sendStep1(bot, chatID)
	case "start_step2":
		startQuestions(bot, chatID, userID, questions)
	case "start_negative":
		askQuestion(bot, chatID, userID, questions, 25) // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø–µ—Ä–≤–æ–º—É –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É
	}

	// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
	callback := tgbotapi.NewCallback(update.CallbackQuery.ID, "")
	if _, err := bot.Request(callback); err != nil {
		log.Printf("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ CallbackQuery: %v", err)
	}
}

func sendStep1(bot *tgbotapi.BotAPI, chatID int64) {
	msg := tgbotapi.NewMessage(chatID,
		"–î–ª—è –Ω–∞—á–∞–ª–∞ —è —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è, –∫–∞–∫–∏–º–∏ ¬´–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç—è–º–∏¬ª —Ç—ã –Ω–∞–ø–æ–ª–Ω–∏—à—å —Å–≤–æ–π 2025 –≥–æ–¥. üéâ\n\n–ù–∞–∂–º–∏ ¬´–î–∞¬ª, –µ—Å–ª–∏ –≥–æ—Ç–æ–≤ –º–µ—á—Ç–∞—Ç—å –∏ –æ—Ü–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å! üåü",
	)
	msg.ParseMode = "HTML"
	msg.ReplyMarkup = tgbotapi.NewInlineKeyboardMarkup(
		tgbotapi.NewInlineKeyboardRow(
			tgbotapi.NewInlineKeyboardButtonData("–î–∞", "start_step2"),
		),
	)
	if _, err := bot.Send(msg); err != nil {
		log.Printf("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ step1: %v", err)
	}
}

func startQuestions(bot *tgbotapi.BotAPI, chatID int64, userID int64, questions []string) {
	msg := tgbotapi.NewMessage(chatID, "–û—Ç–ª–∏—á–Ω–æ, –Ω–∞—á–Ω–µ–º!")
	msg.ReplyMarkup = tgbotapi.NewRemoveKeyboard(true)
	if _, err := bot.Send(msg); err != nil {
		log.Printf("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤: %v", err)
	}

	askQuestion(bot, chatID, userID, questions, 0)
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
func handleTextResponse(bot *tgbotapi.BotAPI, update tgbotapi.Update, questions []string) {
	userID := update.Message.From.ID
	chatID := update.Message.Chat.ID
	userText := update.Message.Text

	// –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤–≤–æ–¥ "–î–∞" –∫–∞–∫ —Ç–µ–∫—Å—Ç (—ç—Ç–æ —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ –Ω–µ –æ—Ç–≤–µ—Ç)
	if userText == "–î–∞" {
		return
	}
	step := getCurrentStep(userID)
	if step >= len(questions) {
		msg := tgbotapi.NewMessage(chatID, "–¢—ã —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã. –°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ!")
		msg.ParseMode = "HTML"
		bot.Send(msg)
		return
	}

	// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
	if err := config.CreateOrUpdateUserAnswer(userID, questions[step], update.Message.Text, step, step >= len(questions)/2); err != nil {
		log.Printf("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞: %v", err)
		bot.Send(tgbotapi.NewMessage(chatID, "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞."))
		return
	}

	bot.Send(tgbotapi.NewMessage(chatID, "–û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω!"))
	askQuestion(bot, chatID, userID, questions, step+1)
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
func getCurrentStep(userID int64) int {
	var userAnswer config.UserAnswer
	err := config.DB.Where("user_id = ?", userID).Order("step DESC").First(&userAnswer).Error
	if err != nil {
		return 0
	}
	return userAnswer.Step + 1
}

func askQuestion(bot *tgbotapi.BotAPI, chatID int64, userID int64, questions []string, step int) {
	// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
	firstNegativeIndex := 24 // –ò–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞

	// –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ –≤—ã–≤–æ–¥–∏–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∏—Ç–æ–≥
	if step == firstNegativeIndex {

		msg := tgbotapi.NewMessage(chatID, fmt.Sprintf(`

–¢—ã —É–∂–µ –Ω–∞–ø–æ–ª–Ω–∏–ª —Å–≤–æ–π –≥–æ–¥ –ø—Ä–∏—è—Ç–Ω—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏. –ù–æ –µ—Å—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã —Ç–æ—á–Ω–æ —Ö–æ—Ç–µ–ª –±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º –∏ –∑–∞–±—ã—Ç—å. –ù–∞–∂–º–∏ "–î–∞", –µ—Å–ª–∏ –≥–æ—Ç–æ–≤ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.
`))
		msg.ParseMode = "HTML"
		msg.ReplyMarkup = tgbotapi.NewInlineKeyboardMarkup(
			tgbotapi.NewInlineKeyboardRow(
				tgbotapi.NewInlineKeyboardButtonData("–î–∞", "start_negative"),
			),
		)
		bot.Send(msg)
		return
	}

	if step < len(questions) {
		msg := tgbotapi.NewMessage(chatID, questions[step])
		msg.ParseMode = "HTML"
		bot.Send(msg)
	} else {
		totalAnnual, avgMonthly := config.CalculateFinalSummary(userID)
		msg := tgbotapi.NewMessage(chatID, config.FinalSummary(totalAnnual, avgMonthly))
		msg.ParseMode = "HTML"
		bot.Send(msg)
	}
}
func calculatePositiveSummary(userID int64, midPoint int) float64 {
	var answers []config.UserAnswer
	config.DB.Where("user_id = ? AND step < ?", userID, midPoint).Find(&answers)

	var total float64
	for _, answer := range answers {
		total += answer.Answer
	}

	return total
}
